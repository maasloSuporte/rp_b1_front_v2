import{d as y,w}from"./vendor-router-cHSbYr8A.js";import{u as S,r as o,j as s}from"./vendor-react-GjWeapsa.js";import{r as c}from"./roles.service-CqkRpITf.js";import{u as j}from"./modal.service-0dNnnw9p.js";import{u as N}from"./notification.service-DGIhKrzX.js";import{D as k}from"./DynamicTable-2EKp7iLd.js";import"./api-Cdl3BoFR.js";function R(){const{t}=S("translation"),r=y(),m=j(e=>e.confirmDelete),i=N(e=>e.showToast),[d,u]=o.useState([]),[p,f]=o.useState(0),[n,x]=o.useState("PageNumber=1&PageSize=5&SortField=id&SortOrder=asc"),g=o.useMemo(()=>[{key:"name",sortKey:"name",label:t("pages.assets.name"),filterable:!0,sortable:!1,filterType:"text"},{key:"actions",label:t("common.actions.label"),type:"action"}],[t]),h=o.useMemo(()=>[{label:t("common.buttons.edit"),action:"edit",icon:"edit"},{label:t("pages.assets.deleted"),action:"deleted",icon:"block"}],[t]);o.useEffect(()=>{l()},[n]);const l=async()=>{try{const e=await c.getAllRolesFilter(n);f(e.totalItems),u(e.items.map(a=>({id:a.id,name:a.name})))}catch(e){console.error("Erro ao carregar roles:",e)}},b=async e=>{switch(e.action){case"edit":r(`/permissions/${e.item.id}`);break;case"deleted":if(await m({itemName:e.item.name}))try{await c.deleteRole({id:e.item.id}),i("Sucess","Permission group successfully deleted","success"),l()}catch{i("Error","Failed to delete role","error")}break}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-8",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-semibold text-text-primary",children:t("pages.roles.title")}),s.jsxs("button",{onClick:()=>r("/permissions"),className:"inline-flex items-center justify-center px-5 py-2.5 rounded-xl font-medium text-white bg-orange hover:bg-orange/90 shadow-sm hover:shadow transition-all duration-200",children:[t("pages.roles.addRole")," ",s.jsx("span",{className:"ml-1",children:"+"})]})]}),s.jsx("section",{className:"mt-6",children:s.jsx(k,{columns:g,data:d,totalItems:p,pageSize:10,pageSizeOptions:[5,10,25,100],showFirstLastButtons:!0,actionMenuItems:h,onActionClick:b,onQueryParamsChange:x})})]})}const M=w(function(){return s.jsx(R,{})});export{M as default};
