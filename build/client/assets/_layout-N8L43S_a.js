import{u as $,b as w,O as _,w as H}from"./vendor-router-cHSbYr8A.js";import{C as G,S as v,U as q,e as Y,f as J,P as Q,B as V,g as X,i as D,k as Z,L as C,H as M,u as S,l as T,j as e,K as j,r as m,h as N,m as z,n as ee,o as O,p as se}from"./vendor-react-GjWeapsa.js";import"./index-DskYDVh7.js";import{a as ae}from"./auth.service-DgGuiwR8.js";const P=[{navCap:"nav.dashboards",chipClass:"title-sidebar"},{displayName:"nav.home",iconName:"home",route:"/dashboard"},{navCap:"nav.projects",chipClass:"title-sidebar"},{displayName:"nav.automation",iconName:"automation",children:[{displayName:"nav.automation",route:"/automation"},{displayName:"nav.createProject",route:"/project"}]},{navCap:"nav.manage",chipClass:"title-sidebar"},{displayName:"nav.manage",iconName:"manage",children:[{displayName:"nav.scheduled",chipClass:"children",route:"/scheduled"},{displayName:"nav.jobs",chipClass:"children",route:"/jobs"},{displayName:"nav.packages",chipClass:"children",route:"/packages"},{displayName:"nav.machines",chipClass:"children",route:"/machines"},{displayName:"nav.assets",chipClass:"children",route:"/assets"}]},{navCap:"nav.administration",chipClass:"title-sidebar"},{displayName:"nav.administration",iconName:"administration",children:[{displayName:"nav.users",route:"/users"},{displayName:"nav.groupPermissions",route:"/roles"}]}],te={aperture:C,home:M,dashboard:C,automation:D,project:Z,manage:D,scheduled:X,jobs:V,packages:Q,machines:J,assets:Y,administration:v,users:q,roles:v,"group-permissions":v,execute:G},y=n=>n?te[n.toLowerCase()]||C:null,ne=[{value:"en",labelKey:"userDropdown.languageEnglish"},{value:"pt-BR",labelKey:"userDropdown.languagePortuguese"}];function re({open:n,onClose:a,userName:l="Admin",userEmail:x=""}){const{t}=S("translation"),h=T.language||"pt-BR",d=r=>{const g=r.target.value;T.changeLanguage(g)},u=()=>{a(),ae.logout()};return e.jsx(j,{show:n,as:m.Fragment,children:e.jsxs(N,{as:"div",className:"relative z-50",onClose:a,children:[e.jsx(j.Child,{as:m.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/40"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(j.Child,{as:m.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(N.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[e.jsx(N.Title,{as:"h2",className:"text-lg font-semibold text-gray-900",children:l}),e.jsx("button",{type:"button",onClick:a,className:"rounded-lg p-1.5 text-gray-500 hover:bg-gray-100 hover:text-gray-700 transition-colors","aria-label":t("common.buttons.close"),children:e.jsx(z,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-pink-100 text-pink-600 font-semibold text-lg",children:l.slice(0,2).toUpperCase()}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-sm font-medium text-gray-900",children:l}),x&&e.jsx("p",{className:"truncate text-sm text-gray-500",children:x}),e.jsxs("p",{className:"mt-0.5 text-xs text-gray-500",children:[t("userDropdown.lastLogin"),": ",t("userDropdown.justNow")]})]})]})}),e.jsxs("div",{className:"border-t border-gray-200 px-6 py-4",children:[e.jsx("label",{htmlFor:"admin-language-select",className:"mb-2 block text-sm font-medium text-gray-700",children:t("userDropdown.selectLanguage")}),e.jsx("select",{id:"admin-language-select",value:h,onChange:d,className:"w-full rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm text-gray-900 shadow-sm focus:border-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-500",children:ne.map(r=>e.jsx("option",{value:r.value,children:t(r.labelKey)},r.value))})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 px-6 py-4 bg-gray-50",children:[e.jsx("a",{href:"#",onClick:r=>{r.preventDefault(),a()},className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:t("userDropdown.mySettings")}),e.jsx("button",{type:"button",onClick:u,className:"rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2",children:t("userDropdown.logOut")})]})]})})})})]})})}const oe="/assets/logoNovo-CRsuGCax.svg",le="/assets/2%2091-BIBokIlh.svg";function k(n){return n?n.startsWith("/")?n:`/${n}`:""}function ie({isOpen:n,isCollapsed:a=!1,onClose:l,onToggleCollapse:x,showToggle:t=!0,width:h=270}){const{t:d}=S("translation"),u=$(),[r,g]=m.useState(new Set),[U,L]=m.useState(!1);m.useEffect(()=>{const s=u.pathname;g(o=>{const f=new Set(o);return P.forEach(i=>{i.children?.some(b=>{const p=k(b.route);return p&&(s===p||s.startsWith(p+"/"))})&&i.displayName&&f.add(i.displayName)}),f})},[u.pathname]);const I=s=>{if(s.children&&s.children.length>0){const o=s.displayName||"";g(f=>{const i=new Set(f);return i.has(o)?i.delete(o):i.add(o),i})}},K=s=>{const o=k(s);return o?u.pathname===o||u.pathname.startsWith(`${o}/`):!1},E=(s,o=0,f)=>{if(s.navCap)return a?null:e.jsx("div",{className:"px-5 py-2.5 mt-4 first:mt-2 text-[11px] font-semibold text-white/50 uppercase tracking-widest",children:d(s.navCap)},`cap-${s.navCap}`);if(s.external)return e.jsxs("a",{href:s.route,target:"_blank",rel:"noopener noreferrer",style:{cursor:"pointer"},className:`cursor-pointer flex items-center rounded-lg text-white/90 hover:bg-white/10 hover:text-white transition-colors ${a?"justify-center py-3 px-2.5":"gap-3 px-5 py-3"}`,children:[s.iconName&&(()=>{const c=y(s.iconName);return c?e.jsx(c,{className:"w-6 h-6 shrink-0 text-white/70"}):null})(),!a&&e.jsx("span",{className:"flex-1",children:s.displayName?d(s.displayName):""})]},`ext-${s.displayName}-${s.route}`);const i=s.children&&s.children.length>0,b=r.has(s.displayName||""),p=K(s.route),F=a?"justify-center py-3 px-2.5":"pl-5 gap-3 py-3 pr-5",R=o>0&&!a?{paddingLeft:`${1.25+o*1.25}rem`}:void 0,B=`nav-${o}-${s.route??s.displayName??f??""}`;return a&&i?e.jsx("div",{children:e.jsx("button",{type:"button",onClick:()=>I(s),style:{cursor:s.disabled?"not-allowed":"pointer"},className:`cursor-pointer w-full flex items-center rounded-lg justify-center py-3 px-2.5 transition-colors ${p?"bg-white/10 text-white":"text-white/90 hover:bg-white/10 hover:text-white"} ${s.disabled?"opacity-50 cursor-not-allowed":""}`,children:s.iconName&&(()=>{const c=y(s.iconName);return c?e.jsx(c,{className:"w-8 h-8 shrink-0 text-white/70"}):null})()})},B):e.jsx("div",{children:s.route&&!i?e.jsxs(w,{to:k(s.route)||"#",onClick:()=>l(),style:R,className:`flex items-center rounded-lg transition-colors ${F} ${p?"bg-orange text-white shadow-sm":"text-white/90 hover:bg-white/10 hover:text-white"} ${s.disabled?"opacity-50 pointer-events-none cursor-not-allowed":"cursor-pointer"}`,children:[s.iconName&&(()=>{const c=y(s.iconName);return c?e.jsx(c,{className:`w-8 h-8 shrink-0 ${p?"text-white":"text-white/70"}`}):null})(),!a&&e.jsx("span",{className:"flex-1 font-medium",children:s.displayName?d(s.displayName):""})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:()=>I(s),style:R,className:`cursor-pointer w-full flex items-center rounded-lg text-left transition-colors ${F} ${p?"bg-white/10 text-white":"text-white/90 hover:bg-white/10 hover:text-white"} ${s.disabled?"opacity-50 cursor-not-allowed":""}`,children:[s.iconName&&(()=>{const c=y(s.iconName);return c?e.jsx(c,{className:"w-8 h-8 shrink-0 text-white/70"}):null})(),!a&&e.jsx("span",{className:"flex-1 font-medium",children:s.displayName?d(s.displayName):""}),i&&!a&&e.jsx(ee,{className:`w-5 h-5 shrink-0 text-white/60 transition-transform duration-200 ${b?"rotate-180":""}`})]}),i&&b&&!a&&e.jsx("div",{className:"mt-1 space-y-1 border-l border-white/10 ml-7 pl-2",children:s.children?.map((c,W)=>E(c,o+1,W))})]})},B)};return e.jsxs("aside",{className:`app-sidebar fixed inset-y-0 left-0 z-50 flex flex-col bg-purple shadow-xl transition-[transform,width] duration-300 ease-out lg:translate-x-0 ${n?"translate-x-0":"-translate-x-full"}`,style:{width:h},children:[e.jsxs("div",{className:`flex items-center justify-between shrink-0 h-[70px] bg-white border-b border-gray-100 ${a?"px-2":"px-5"}`,children:[e.jsx(w,{to:"/dashboard",className:`cursor-pointer flex items-center min-w-0 h-full ${a?"flex-1 justify-center":"gap-3"}`,children:e.jsx("div",{className:"flex items-center justify-center shrink-0 h-full w-full max-h-[70px]",children:e.jsx("img",{src:a?oe:le,alt:"Beanstalk",className:`object-contain object-center h-full max-h-[70px] ${a?"w-full max-w-[66px]":"w-auto min-h-[50px]"}`})})}),t&&!a&&e.jsx("button",{type:"button",onClick:l,className:"cursor-pointer p-2 -m-2 rounded-lg text-gray-500 hover:text-gray-800 hover:bg-gray-100 transition-colors lg:hidden","aria-label":d("nav.closeMenu"),children:e.jsx(z,{className:"w-5 h-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto overflow-x-hidden py-3",children:e.jsx("div",{className:`space-y-3 ${a?"px-2":"px-0"}`,children:P.map((s,o)=>E(s,0,o))})}),e.jsxs("div",{className:"shrink-0 p-4 border-t border-white/10 bg-purple",children:[e.jsxs("button",{type:"button",onClick:()=>L(!0),className:`cursor-pointer w-full flex items-center rounded-xl bg-white/10 transition-[padding] duration-300 hover:bg-white/15 focus:outline-none focus:ring-2 focus:ring-white/30 ${a?"justify-center p-2.5":"gap-3 px-4 py-3"}`,children:[e.jsx("img",{src:"/assets/images/profile/user-1.jpg",alt:"",className:"w-10 h-10 rounded-full object-cover shrink-0 ring-2 ring-white/20",onError:s=>{const o=s.target;o.src="data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><circle cx="20" cy="20" r="20" fill="rgba(255,255,255,0.2)"/><path fill="white" d="M20 18a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 4c-4 0-7 2-7 4v2h14v-2c0-2-3-4-7-4z"/></svg>')}}),!a&&e.jsx("div",{className:"flex-1 min-w-0 text-left",children:e.jsx("p",{className:"text-xs font-semibold text-white/80 uppercase tracking-wider truncate",children:d("nav.admin")})})]}),e.jsx(re,{open:U,onClose:()=>L(!1),userName:"Admin",userEmail:""})]})]})}function ce({onToggleSidebar:n,onToggleMobileNav:a,showToggle:l=!0}){return e.jsxs("header",{className:"h-[70px] bg-white shadow-sm border-b border-gray-200 flex items-center px-4",children:[l?e.jsx("button",{onClick:n,className:"p-2 text-gray-600 hover:text-gray-900 lg:block hidden",children:e.jsx(O,{className:"w-6 h-6"})}):e.jsx("button",{onClick:a,className:"p-2 text-gray-600 hover:text-gray-900 lg:hidden",children:e.jsx(O,{className:"w-6 h-6"})}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{onClick:a,className:"p-2 text-gray-600 hover:text-gray-900 lg:hidden",children:e.jsx("span",{className:"text-xl",children:"⚙️"})})]})}const de={dashboard:"breadcrumb.dashboard",users:"breadcrumb.users",roles:"breadcrumb.roles",assets:"breadcrumb.assets",packages:"breadcrumb.packages",jobs:"breadcrumb.jobs",scheduled:"breadcrumb.scheduled",queues:"breadcrumb.queues",machines:"breadcrumb.machines",automation:"breadcrumb.automation",project:"breadcrumb.project",execution:"breadcrumb.execution",create:"breadcrumb.create",upload:"breadcrumb.upload"};function ue(){const{t:n}=S("translation"),l=$().pathname.split("/").filter(Boolean),x=t=>{const h=de[t];return h?n(h):t.charAt(0).toUpperCase()+t.slice(1)};return l.length===0?null:e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[e.jsx(w,{to:"/dashboard",className:"hover:text-primary",children:e.jsx(M,{className:"w-4 h-4"})}),l.map((t,h)=>{const d=h===l.length-1,u="/"+l.slice(0,h+1).join("/"),r=x(t);return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-gray-400"}),d?e.jsx("span",{className:"text-gray-900 font-medium",children:r}):e.jsx(w,{to:u,className:"hover:text-primary",children:r})]},u)})]})}const A=270,he=72;function me(){const[n,a]=m.useState(!1),[l,x]=m.useState(!1),[t,h]=m.useState(!1),d=$();m.useEffect(()=>{const r=()=>{const g=window.innerWidth<1024;h(g),a(!g)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),m.useEffect(()=>{t&&a(!1),window.scrollTo({top:0,behavior:"smooth"})},[d,t]);const u=l?he:A;return e.jsxs("div",{className:"flex min-h-screen bg-background",children:[e.jsx(ie,{isOpen:n,isCollapsed:!t&&l,onClose:()=>a(!1),onToggleCollapse:()=>x(r=>!r),showToggle:t,width:t?A:u}),n&&t&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>a(!1)}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-screen min-w-0 overflow-x-hidden transition-[margin] duration-300",style:{marginLeft:t?0:u},children:[e.jsx(ce,{onToggleSidebar:()=>t?a(r=>!r):x(r=>!r),onToggleMobileNav:()=>a(!n),showToggle:!t}),e.jsx("main",{className:"flex-1 bg-background min-w-0 overflow-x-hidden",children:e.jsxs("div",{className:"p-5 min-w-0 max-w-full",children:[e.jsx(ue,{}),e.jsx(_,{})]})})]})]})}function xe({children:n}){return e.jsx(e.Fragment,{children:n})}const ye=H(function(){return e.jsx(xe,{children:e.jsx(me,{})})});export{ye as default};
