import{u as S,r as s,j as a}from"./vendor-react-GjWeapsa.js";import{q as h}from"./queues.service-_ltWKFCw.js";import{D as k}from"./DynamicTable-2EKp7iLd.js";import{L as w}from"./Loading-DtjK9lpy.js";import"./api-Cdl3BoFR.js";function R(){const{t:e}=S("translation"),[l,u]=s.useState([]),[c,m]=s.useState(0),[r,p]=s.useState(""),[g,i]=s.useState(!0),f=s.useMemo(()=>[{key:"name",label:e("pages.queues.name"),filterable:!0,sortable:!1,filterType:"text"},{key:"status",label:e("pages.queues.status"),filterable:!0,sortable:!1,filterType:"text"},{key:"items",label:e("pages.queues.items"),filterable:!1,sortable:!1,filterType:"text"},{key:"actions",label:e("pages.queues.actions"),type:"action"}],[e]),b=s.useMemo(()=>[{label:e("pages.queues.view"),action:"view",icon:"eye"}],[e]);s.useEffect(()=>{x()},[r]);const x=async()=>{try{i(!0);const t=new URLSearchParams(r),d=parseInt(t.get("pageNumber")||"1"),q=parseInt(t.get("pageSize")||"10"),n=await h.getAllQueues({pageNumber:d,pageSize:q});m(n?.totalItems||0),u((n?.items||[]).map(o=>({id:o.id,name:o.name||"-",items:o.itemsCount||0})))}catch(t){console.error("Erro ao carregar queues:",t)}finally{i(!1)}},y=t=>{t.action==="view"&&console.log("View queue:",t.item)};return g?a.jsx(w,{text:e("pages.queues.loadingRealtime")}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold text-text-primary mb-8",children:e("pages.queues.titleRealtime")}),a.jsx("section",{className:"mt-6",children:a.jsx(k,{columns:f,data:l,totalItems:c,pageSize:10,pageSizeOptions:[10,25,50,100],showFirstLastButtons:!0,actionMenuItems:b,onActionClick:y,onQueryParamsChange:p})})]})}export{R as default};
