import{r as s,j as a}from"./vendor-react-D3RE0R8o.js";import{q as h}from"./queues.service-DVY62-w_.js";import{D as S}from"./DynamicTable-BPyWbqtX.js";import{L as I}from"./Loading-Cgm95zmF.js";import"./api-BB9j10S9.js";function N(){const[l,c]=s.useState([]),[n,u]=s.useState(0),[r,m]=s.useState(""),[d,o]=s.useState(!0),p=[{key:"name",label:"Name",filterable:!0,sortable:!1,filterType:"text"},{key:"status",label:"Status",filterable:!0,sortable:!1,filterType:"text"},{key:"processedItems",label:"Processed Items",filterable:!1,sortable:!1,filterType:"text"},{key:"lastProcessed",label:"Last Processed",filterable:!1,sortable:!0,filterType:"text"},{key:"actions",label:"Actions",type:"action"}],f=[{label:"View Details",action:"view",icon:"eye"}];s.useEffect(()=>{b()},[r]);const b=async()=>{try{o(!0);const e=new URLSearchParams(r),y=parseInt(e.get("pageNumber")||"1"),x=parseInt(e.get("pageSize")||"10"),i=await h.getAllQueues({pageNumber:y,pageSize:x})||[];u(i?.totalItems||0),c((i?.items||[]).map(t=>({id:t.id,name:t.name||"-",processedItems:t.processedItems||0,lastProcessed:t.lastProcessed?new Date(t.lastProcessed).toLocaleString():"-"})))}catch(e){console.error("Erro ao carregar histórico de queues:",e)}finally{o(!1)}},g=e=>{e.action==="view"&&console.log("View historical queue:",e.item)};return d?a.jsx(I,{text:"Carregando histórico de queues..."}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold text-text-primary mb-8",children:"Historical Queues"}),a.jsx("section",{className:"mt-6",children:a.jsx(S,{columns:p,data:l,totalItems:n,pageSize:10,pageSizeOptions:[10,25,50,100],showFirstLastButtons:!0,actionMenuItems:f,onActionClick:g,onQueryParamsChange:m})})]})}export{N as default};
