import{r as t,j as a}from"./vendor-react-D3RE0R8o.js";import{q as S}from"./queues.service-DVY62-w_.js";import{D as h}from"./DynamicTable-BPyWbqtX.js";import{L as k}from"./Loading-Cgm95zmF.js";import"./api-BB9j10S9.js";function T(){const[n,l]=t.useState([]),[c,m]=t.useState(0),[r,u]=t.useState(""),[p,o]=t.useState(!0),f=[{key:"name",label:"Name",filterable:!0,sortable:!1,filterType:"text"},{key:"status",label:"Status",filterable:!0,sortable:!1,filterType:"text"},{key:"items",label:"Items",filterable:!1,sortable:!1,filterType:"text"},{key:"actions",label:"Actions",type:"action"}],g=[{label:"View",action:"view",icon:"eye"}];t.useEffect(()=>{b()},[r]);const b=async()=>{try{o(!0);const e=new URLSearchParams(r),y=parseInt(e.get("pageNumber")||"1"),d=parseInt(e.get("pageSize")||"10"),i=await S.getAllQueues({pageNumber:y,pageSize:d});m(i?.totalItems||0),l((i?.items||[]).map(s=>({id:s.id,name:s.name||"-",items:s.itemsCount||0})))}catch(e){console.error("Erro ao carregar queues:",e)}finally{o(!1)}},x=e=>{e.action==="view"&&console.log("View queue:",e.item)};return p?a.jsx(k,{text:"Carregando queues em tempo real..."}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold text-text-primary mb-8",children:"Real Time Queues"}),a.jsx("section",{className:"mt-6",children:a.jsx(h,{columns:f,data:n,totalItems:c,pageSize:10,pageSizeOptions:[10,25,50,100],showFirstLastButtons:!0,actionMenuItems:g,onActionClick:x,onQueryParamsChange:u})})]})}export{T as default};
