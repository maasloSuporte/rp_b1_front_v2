import{u as k,b as N,O as P,w as B}from"./vendor-router-C5YTkdq4.js";import{C as M,S as j,U as O,e as T,f as D,P as F,B as z,g as H,i as $,k as U,L as v,H as R,r as p,j as e,l as W,m as _,n as G,o as I,p as J}from"./vendor-react-D3RE0R8o.js";import{a as q}from"./auth.service-DgGuiwR8.js";const A=[{navCap:"DASHBOARDS",chipClass:"title-sidebar"},{displayName:"Home",iconName:"home",route:"/dashboard"},{navCap:"PROJECTS",chipClass:"title-sidebar"},{displayName:"Automation",iconName:"automation",children:[{displayName:"Automation",route:"/automation"},{displayName:"Create Project",route:"/project"}]},{navCap:"MANAGE",chipClass:"title-sidebar"},{displayName:"Manage",iconName:"manage",children:[{displayName:"Scheduled",chipClass:"children",route:"/scheduled"},{displayName:"Jobs",chipClass:"children",route:"/jobs"},{displayName:"Packages",chipClass:"children",route:"/packages"},{displayName:"Machines",chipClass:"children",route:"/machines"},{displayName:"Assets",chipClass:"children",route:"/assets"}]},{navCap:"ADMINISTRATION",chipClass:"title-sidebar"},{displayName:"Administration",iconName:"administration",children:[{displayName:"Users",route:"/users"},{displayName:"Group permissions",route:"/roles"}]}],Q={aperture:v,home:R,dashboard:v,automation:$,project:U,manage:$,scheduled:H,jobs:z,packages:F,machines:D,assets:T,administration:j,users:O,roles:j,"group-permissions":j,execute:M},b=a=>a?Q[a.toLowerCase()]||v:null,K="/assets/logoNovo-CRsuGCax.svg",V="/assets/2%2091-BIBokIlh.svg";function y(a){return a?a.startsWith("/")?a:`/${a}`:""}function X({isOpen:a,isCollapsed:t=!1,onClose:c,onToggleCollapse:d,showToggle:n=!0,width:g=270}){const h=k(),[x,i]=p.useState(new Set);p.useEffect(()=>{const s=h.pathname;i(r=>{const u=new Set(r);return A.forEach(l=>{l.children?.some(m=>{const f=y(m.route);return f&&(s===f||s.startsWith(f+"/"))})&&l.displayName&&u.add(l.displayName)}),u})},[h.pathname]);const w=s=>{if(s.children&&s.children.length>0){const r=s.displayName||"";i(u=>{const l=new Set(u);return l.has(r)?l.delete(r):l.add(r),l})}},L=s=>{const r=y(s);return r?h.pathname===r||h.pathname.startsWith(`${r}/`):!1},C=(s,r=0)=>{if(s.navCap)return t?null:e.jsx("div",{className:"px-5 py-2.5 mt-4 first:mt-2 text-[11px] font-semibold text-white/50 uppercase tracking-widest",children:s.navCap},s.navCap);if(s.external)return e.jsxs("a",{href:s.route,target:"_blank",rel:"noopener noreferrer",style:{cursor:"pointer"},className:`flex items-center rounded-lg text-white/90 hover:bg-white/10 hover:text-white transition-colors ${t?"justify-center py-3 px-2.5":"gap-3 px-5 py-3"}`,children:[s.iconName&&(()=>{const o=b(s.iconName);return o?e.jsx(o,{className:"w-6 h-6 shrink-0 text-white/70"}):null})(),!t&&e.jsx("span",{className:"flex-1",children:s.displayName})]},s.displayName);const u=s.children&&s.children.length>0,l=x.has(s.displayName||""),m=L(s.route),f=t?"justify-center py-3 px-2.5":"pl-5 gap-3 py-3 pr-5",S=r>0&&!t?{paddingLeft:`${1.25+r*1.25}rem`}:void 0;return t&&u?e.jsx("div",{children:e.jsx("button",{type:"button",onClick:()=>w(s),style:{cursor:s.disabled?"not-allowed":"pointer"},className:`w-full flex items-center rounded-lg justify-center py-3 px-2.5 transition-colors ${m?"bg-white/10 text-white":"text-white/90 hover:bg-white/10 hover:text-white"} ${s.disabled?"opacity-50":""}`,children:s.iconName&&(()=>{const o=b(s.iconName);return o?e.jsx(o,{className:"w-8 h-8 shrink-0 text-white/70"}):null})()})},s.displayName||s.route):e.jsx("div",{children:s.route&&!u?e.jsxs(N,{to:y(s.route)||"#",onClick:()=>c(),style:{...S,cursor:s.disabled?"default":"pointer"},className:`flex items-center rounded-lg transition-colors ${f} ${m?"bg-orange text-white shadow-sm":"text-white/90 hover:bg-white/10 hover:text-white"} ${s.disabled?"opacity-50 pointer-events-none":""}`,children:[s.iconName&&(()=>{const o=b(s.iconName);return o?e.jsx(o,{className:`w-8 h-8 shrink-0 ${m?"text-white":"text-white/70"}`}):null})(),!t&&e.jsx("span",{className:"flex-1 font-medium",children:s.displayName})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:()=>w(s),style:{...S,cursor:s.disabled?"not-allowed":"pointer"},className:`w-full flex items-center rounded-lg text-left transition-colors ${f} ${m?"bg-white/10 text-white":"text-white/90 hover:bg-white/10 hover:text-white"} ${s.disabled?"opacity-50":""}`,children:[s.iconName&&(()=>{const o=b(s.iconName);return o?e.jsx(o,{className:"w-8 h-8 shrink-0 text-white/70"}):null})(),!t&&e.jsx("span",{className:"flex-1 font-medium",children:s.displayName}),u&&!t&&e.jsx(G,{className:`w-5 h-5 shrink-0 text-white/60 transition-transform duration-200 ${l?"rotate-180":""}`})]}),u&&l&&!t&&e.jsx("div",{className:"mt-1 space-y-1 border-l border-white/10 ml-7 pl-2",children:s.children?.map(o=>C(o,r+1))})]})},s.displayName||s.route)};return e.jsxs("aside",{className:`app-sidebar fixed inset-y-0 left-0 z-50 flex flex-col bg-purple shadow-xl transition-[transform,width] duration-300 ease-out lg:translate-x-0 ${a?"translate-x-0":"-translate-x-full"}`,style:{width:g},children:[e.jsxs("div",{className:`flex items-center justify-between shrink-0 h-[70px] bg-white border-b border-gray-100 ${t?"px-2":"px-5"}`,children:[e.jsx(N,{to:"/dashboard",style:{cursor:"pointer"},className:`flex items-center min-w-0 h-full ${t?"flex-1 justify-center":"gap-3"}`,children:e.jsx("div",{className:"flex items-center justify-center shrink-0 h-full w-full max-h-[70px]",children:e.jsx("img",{src:t?K:V,alt:"Beanstalk",className:`object-contain object-center h-full max-h-[70px] ${t?"w-full max-w-[66px]":"w-auto min-h-[50px]"}`})})}),n&&!t&&e.jsx("button",{type:"button",onClick:c,style:{cursor:"pointer"},className:"p-2 -m-2 rounded-lg text-gray-500 hover:text-gray-800 hover:bg-gray-100 transition-colors lg:hidden","aria-label":"Fechar menu",children:e.jsx(W,{className:"w-5 h-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto overflow-x-hidden py-3",children:e.jsx("div",{className:`space-y-3 ${t?"px-2":"px-0"}`,children:A.map(s=>C(s))})}),e.jsx("div",{className:"shrink-0 p-4 border-t border-white/10 bg-purple",children:e.jsxs("div",{className:`flex items-center rounded-xl bg-white/10 transition-[padding] duration-300 ${t?"justify-center p-2.5":"gap-3 px-4 py-3"}`,children:[e.jsx("img",{src:"/assets/images/profile/user-1.jpg",alt:"",className:"w-10 h-10 rounded-full object-cover shrink-0 ring-2 ring-white/20",onError:s=>{const r=s.target;r.src="data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><circle cx="20" cy="20" r="20" fill="rgba(255,255,255,0.2)"/><path fill="white" d="M20 18a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 4c-4 0-7 2-7 4v2h14v-2c0-2-3-4-7-4z"/></svg>')}}),!t&&e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-xs font-semibold text-white/80 uppercase tracking-wider truncate",children:"Admin"})}),e.jsx("button",{type:"button",onClick:()=>q.logout(),style:{cursor:"pointer"},className:"p-2 rounded-lg text-white/80 hover:text-white hover:bg-white/10 transition-colors shrink-0",title:"Sair",children:e.jsx(_,{className:"w-5 h-5"})})]})})]})}function Y({onToggleSidebar:a,onToggleMobileNav:t,showToggle:c=!0}){return e.jsxs("header",{className:"h-[70px] bg-white shadow-sm border-b border-gray-200 flex items-center px-4",children:[c?e.jsx("button",{onClick:a,className:"p-2 text-gray-600 hover:text-gray-900 lg:block hidden",children:e.jsx(I,{className:"w-6 h-6"})}):e.jsx("button",{onClick:t,className:"p-2 text-gray-600 hover:text-gray-900 lg:hidden",children:e.jsx(I,{className:"w-6 h-6"})}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{onClick:t,className:"p-2 text-gray-600 hover:text-gray-900 lg:hidden",children:e.jsx("span",{className:"text-xl",children:"⚙️"})})]})}function Z(){const t=k().pathname.split("/").filter(Boolean),c=d=>({dashboard:"Dashboard",users:"Users",roles:"Roles",assets:"Assets",packages:"Packages",jobs:"Jobs",scheduled:"Scheduled",queues:"Queues",machines:"Machines",automation:"Automation",project:"Project",execution:"Execution",create:"Create",upload:"Upload"})[d]||d.charAt(0).toUpperCase()+d.slice(1);return t.length===0?null:e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[e.jsx(N,{to:"/dashboard",className:"hover:text-primary",children:e.jsx(R,{className:"w-4 h-4"})}),t.map((d,n)=>{const g=n===t.length-1,h="/"+t.slice(0,n+1).join("/"),x=c(d);return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{className:"w-4 h-4 text-gray-400"}),g?e.jsx("span",{className:"text-gray-900 font-medium",children:x}):e.jsx(N,{to:h,className:"hover:text-primary",children:x})]},h)})]})}const E=270,ee=72;function se(){const[a,t]=p.useState(!1),[c,d]=p.useState(!1),[n,g]=p.useState(!1),h=k();p.useEffect(()=>{const i=()=>{const w=window.innerWidth<1024;g(w),t(!w)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),p.useEffect(()=>{n&&t(!1),window.scrollTo({top:0,behavior:"smooth"})},[h,n]);const x=c?ee:E;return e.jsxs("div",{className:"flex min-h-screen bg-background",children:[e.jsx(X,{isOpen:a,isCollapsed:!n&&c,onClose:()=>t(!1),onToggleCollapse:()=>d(i=>!i),showToggle:n,width:n?E:x}),a&&n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>t(!1)}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-screen min-w-0 overflow-x-hidden transition-[margin] duration-300",style:{marginLeft:n?0:x},children:[e.jsx(Y,{onToggleSidebar:()=>n?t(i=>!i):d(i=>!i),onToggleMobileNav:()=>t(!a),showToggle:!n}),e.jsx("main",{className:"flex-1 bg-background min-w-0 overflow-x-hidden",children:e.jsxs("div",{className:"p-5 min-w-0 max-w-full",children:[e.jsx(Z,{}),e.jsx(P,{})]})})]})]})}function te({children:a}){return e.jsx(e.Fragment,{children:a})}const oe=B(function(){return e.jsx(te,{children:e.jsx(se,{})})});export{oe as default};
