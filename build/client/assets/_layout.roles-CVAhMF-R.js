import{d as b,w as g}from"./vendor-router-C5YTkdq4.js";import{r as s,j as t}from"./vendor-react-D3RE0R8o.js";import{r as l}from"./roles.service-CRlzX88Y.js";import{u as w}from"./modal.service-DONi3Oau.js";import{u as j}from"./notification.service-CvsIel6B.js";import{D as S}from"./DynamicTable-BPyWbqtX.js";import"./api-BB9j10S9.js";function N(){const o=b(),c=w(e=>e.confirmDelete),r=j(e=>e.showToast),[m,d]=s.useState([]),[u,f]=s.useState(0),[i,p]=s.useState(""),x=[{key:"name",sortKey:"name",label:"Name",filterable:!0,sortable:!1,filterType:"text"},{key:"actions",label:"Actions",type:"action"}],h=[{label:"Edit",action:"edit",icon:"edit"},{label:"Deleted",action:"deleted",icon:"block"}];s.useEffect(()=>{n()},[i]);const n=async()=>{try{const e=await l.getAllRolesFilter(i);f(e.totalItems),d(e.items.map(a=>({id:a.id,name:a.name})))}catch(e){console.error("Erro ao carregar roles:",e)}},y=async e=>{switch(e.action){case"edit":o(`/permissions/${e.item.id}`);break;case"deleted":if(await c({itemName:e.item.name}))try{await l.deleteRole({id:e.item.id}),r("Sucess","Permission group successfully deleted","success"),n()}catch{r("Error","Failed to delete role","error")}break}};return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-8",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl font-semibold text-text-primary",children:"Roles"}),t.jsxs("button",{onClick:()=>o("/permissions"),className:"inline-flex items-center justify-center px-5 py-2.5 rounded-xl font-medium text-white bg-orange hover:bg-orange/90 shadow-sm hover:shadow transition-all duration-200",children:["Add role ",t.jsx("span",{className:"ml-1",children:"+"})]})]}),t.jsx("section",{className:"mt-6",children:t.jsx(S,{columns:x,data:m,totalItems:u,pageSize:10,pageSizeOptions:[5,10,25,100],showFirstLastButtons:!0,actionMenuItems:h,onActionClick:y,onQueryParamsChange:p})})]})}const I=g(function(){return t.jsx(N,{})});export{I as default};
