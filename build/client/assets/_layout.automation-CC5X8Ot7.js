import{d as j,w as g}from"./vendor-router-C5YTkdq4.js";import{r as o,j as t}from"./vendor-react-D3RE0R8o.js";import{p as l}from"./projects.service-AnNXoBpb.js";import{u as w}from"./modal.service-DONi3Oau.js";import{u as S}from"./notification.service-CvsIel6B.js";import{D as k}from"./DynamicTable-BPyWbqtX.js";import"./api-BB9j10S9.js";function N(){const a=j(),c=w(e=>e.confirmDelete),s=S(e=>e.showToast),[m,u]=o.useState([]),[d,f]=o.useState(0),[i,p]=o.useState("SortField=id&SortOrder=asc&PageNumber=1&PageSize=100");o.useEffect(()=>{n()},[i]);const n=async()=>{try{const e=await l.getAllProjects({pageNumber:1,pageSize:100},i);u(e.items.map(r=>({...r,active:r.active?"Ativo":"Inativo"}))),f(e.totalItems)}catch(e){console.error("Erro ao carregar projetos:",e)}},x=[{key:"name",filterKey:"ProjectName",label:"Name",filterable:!0,sortable:!1,filterType:"text"},{key:"packageVersionId",label:"Package Version",filterable:!0,sortable:!1,filterType:"text"},{key:"active",filterKey:"Status",label:"Status",filterable:!0,sortable:!1,filterType:"text"},{key:"createdAt",label:"Criado em",filterable:!0,sortable:!1,filterType:"text"},{key:"actions",label:"Actions",type:"action"}],b=async e=>{if(await c({itemName:e.name}))try{await l.deleteProject({id:e.id}),s("Sucess","Project deleted successfully","success"),n()}catch{s("Error","Failed to delete project","error")}},h=[{label:"Editar",action:"edit",icon:"edit"},{label:"Delete",action:"delete",icon:"trash"}],y=async e=>{switch(e.action){case"edit":a(`/project/${e.item.id}`);break;case"delete":await b(e.item);break}};return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-8",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl font-semibold text-text-primary",children:"Automation"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>a("/project"),className:"inline-flex items-center justify-center px-5 py-2.5 rounded-xl font-medium text-white bg-orange hover:bg-orange/90 shadow-sm hover:shadow transition-all duration-200",children:"Create Project"}),t.jsx("button",{onClick:()=>a("/execution"),className:"inline-flex items-center justify-center px-5 py-2.5 rounded-xl font-medium text-white bg-purple hover:bg-purple/90 shadow-sm hover:shadow transition-all duration-200",children:"Execute"})]})]}),t.jsx("section",{className:"mt-6",children:t.jsx(k,{columns:x,data:m,totalItems:d,pageSize:5,pageSizeOptions:[5,10,25,100],showFirstLastButtons:!0,actionMenuItems:h,onActionClick:y,onQueryParamsChange:p})})]})}const z=g(function(){return t.jsx(N,{})});export{z as default};
